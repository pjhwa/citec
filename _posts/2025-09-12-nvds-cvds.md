---
title: "CVDS와 NVDS의 정의와 설명"
date: 2025-09-12
tags: [nvds, cvds, vmware, nsx-t, cloud]
categories: [Howtos, VMware]
---

CVDS와 NVDS는 주로 VMware의 가상화 및 네트워킹 기술, 특히 NSX-T(현 NSX Data Center) 환경에서 사용되는 용어로, 가상 스위치(Virtual Distributed Switch)의 변형을 가리킵니다. 이 용어들은 IT 인프라, 특히 VMware vSphere와 NSX를 사용하는 데이터 센터에서 자주 등장합니다. 아래에서 각각의 개념을 자세히 설명하겠습니다. 설명은 VMware의 공식 문서와 지식 베이스(예: Broadcom/VMware Knowledge Base), 기술 블로그 및 릴리스 노트 등을 기반으로 하며, 사실 확인을 위해 여러 출처를 검증했습니다. 만약 다른 맥락(예: 의학 분야의 CVDs)을 의도했다면 추가 설명을 부탁드립니다.

### 1. NVDS (NSX Virtual Distributed Switch 또는 N-VDS)
NVDS는 **NSX Virtual Distributed Switch**의 약자로, VMware NSX-T에서 도입된 NSX 전용 가상 분산 스위치입니다. 이는 기존의 vSphere Distributed Switch(VDS)를 NSX 환경에 최적화한 형태로, NSX-T가 vSphere 외에도 다양한 하이퍼바이저(예: KVM), 컨테이너(Kubernetes), 클라우드 환경을 지원하기 위해 개발되었습니다.

- **주요 특징**:
  - **NSX 관리 의존성**: NVDS는 NSX Manager에 의해 직접 관리되며, vCenter Server에 강하게 의존하지 않습니다. 이는 NSX-T의 데이터 플레인(traffic 처리 부분)을 호스트(ESXi)에 제공하여, NSX 세그먼트(overlay 네트워크)와 정책을 처리하는 데 특화되어 있습니다.
  - **기능**: VLAN 기반 네트워크와 오버레이 네트워크(예: Geneve 프로토콜)를 동시에 지원합니다. 호스트의 NSX 관리 트래픽(VM 연결, 보안 정책 등)을 효율적으로 처리하며, 데이터와 관리 플레인을 논리적으로 분리합니다.
  - **장점**: 멀티 하이퍼바이저 환경에서 유연하며, NSX-T 초기 버전(예: NSX-T 2.x~3.x)에서 표준으로 사용되었습니다. 예를 들어, ESXi 호스트에서 NSX 논리적 스위치를 실현할 때 NVDS가 데이터 플레인을 담당합니다.
  - **단점**: 별도의 스위치 관리로 인해 vCenter와의 통합이 제한적일 수 있으며, 유지보수가 복잡할 수 있습니다. NSX-T 3.0 이후에는 VDS로의 마이그레이션을 권장합니다.

- **사용 예시**: NSX-T 환경에서 ESXi 호스트를 준비할 때, NVDS를 생성하여 NSX 오버레이 트래픽을 처리합니다. 명령어 예: NSX Manager에서 `Transport Node` 설정 시 NVDS를 선택합니다.

검증 출처: VMware NSX-T 릴리스 노트(3.0.2, 3.1)와 기술 블로그(예: IP With Ease, nsxbaas.blog)에서 NVDS를 "NSX-T의 독립적 VDS"로 정의하며, vCenter 독립성을 강조합니다.

### 2. CVDS (Converged VDS 또는 C-VDS)
CVDS는 **Converged vSphere Distributed Switch**의 약자로, 기존 VDS(vSphere Distributed Switch)를 NSX-T와 통합(Converged)한 형태입니다. vSphere 7.0(ESXi 7.0)부터 지원되며, NSX-T 3.0 이상에서 NVDS를 대체하기 위해 도입되었습니다. 이는 NSX 기능을 VDS에 "합쳐" 관리 오버헤드를 줄이는 것을 목표로 합니다.

- **주요 특징**:
  - **vCenter 통합**: CVDS는 vCenter Server에서 중앙 관리되며, NSX-T와 VDS를 하나의 스위치로 통합합니다. NSX Manager가 VDS를 "Converged" 상태로 구성하여, NSX 오버레이와 vSphere 네트워킹을 동시에 처리합니다.
  - **기능**: NVDS의 NSX 데이터 플레인 기능을 유지하면서 VDS의 네이티브 기능을 활용합니다. 예를 들어, uplink 프로필, 팀링 정책, 포트 그룹 등을 VDS처럼 관리할 수 있으며, NSX 세그먼트와 VLAN을 지원합니다.
  - **장점**: 관리 단순화(별도 NVDS 관리 불필요), vSphere 7+와의 호환성 향상, 다중 클러스터 환경에서 안정적입니다. NSX-T 3.x 이상에서 권장되는 표준으로, NVDS에서 CVDS로 마이그레이션하는 도구가 제공됩니다.
  - **단점**: 초기 마이그레이션 과정에서 호환성 문제(예: LAG 구성 오류)가 발생할 수 있으며, vSphere 7.0 이상 환경에서만 지원됩니다.

- **사용 예시**: NSX-T에서 호스트를 CVDS로 마이그레이션할 때, vCenter에서 새로운 VDS를 생성하고 NSX Manager API(예: `/api/v1/nvds-urt/topology?action=apply`)를 사용합니다. 명령어 예: `vds-migrate tn-list`로 마이그레이션 시작.

검증 출처: Broadcom Knowledge Base(예: KB 322643, KB 404906)와 VMware 문서(예: NSX-T 3.1 릴리스 노트)에서 CVDS를 "NVDS to VDS migration의 결과물"로 설명하며, ESXi 7+ 통합을 강조합니다.

### CVDS와 NVDS의 비교
아래 표는 두 용어의 주요 차이점을 요약한 것입니다. 이는 VMware 문서와 비교 분석(예: IP With Ease 블로그, livefire.solutions)을 기반으로 합니다.

| 항목              | NVDS (N-VDS)                          | CVDS (C-VDS)                          |
|-------------------|---------------------------------------|---------------------------------------|
| **전체 이름**     | NSX Virtual Distributed Switch       | Converged vSphere Distributed Switch |
| **관리 도구**     | NSX Manager (vCenter 독립)           | vCenter Server + NSX Manager (통합)  |
| **지원 환경**     | NSX-T 초기 버전, 멀티 하이퍼바이저   | vSphere 7.0+, NSX-T 3.0+             |
| **주요 목적**     | NSX 오버레이 트래픽 처리             | NSX + vSphere 네트워킹 통합          |
| **의존성**        | vCenter에 덜 의존, NSX 중심           | vCenter 중심, NSX 기능 추가          |
| **마이그레이션** | NVDS → CVDS로 업그레이드 권장        | NVDS의 후속 버전, 표준으로 전환      |
| **장점**          | 유연한 클라우드/컨테이너 지원        | 관리 단순화, 유지보수 용이           |
| **단점**          | 관리 복잡, vCenter 통합 제한         | vSphere 7+ 필요, 마이그레이션 오류 가능 |
| **사용 사례**     | NSX-T 호스트 준비 (초기 설정)         | NSX-T 업그레이드 후 VDS 활용         |

- **차이점 상세 설명**: NVDS는 NSX-T의 "독립형" 스위치로, vSphere 외 환경을 위해 설계되었으나 관리 부담이 큽니다. 반면 CVDS는 VDS를 "NSX와 융합"하여 vCenter에서 일괄 관리할 수 있게 하여, NSX-T 환경의 효율성을 높입니다. NSX-T 3.x부터 NVDS에서 CVDS로 마이그레이션하는 프로세스가 표준화되어 있으며, API나 CLI 도구(예: `vds-migrate`)를 통해 수행합니다. 마이그레이션 시 호스트를 maintenance mode로 전환하고, topology precheck를 먼저 실행해야 합니다.

### 추가 팁: 마이그레이션 과정 이해하기
만약 VMware 환경에서 NVDS를 CVDS로 전환하려면:
1. NSX Manager에서 precheck API 호출: `POST /api/v1/nvds-urt/precheck`.
2. Topology 확인 및 적용: `GET /api/v1/nvds-urt/topology` 후 `PUT /api/v1/nvds-urt/topology?action=apply`.
3. 호스트 상태 확인: `GET /api/v1/nvds-urt/status-summary`.

이 과정에서 오류(예: uplink not found)가 발생할 수 있으니, VMware KB를 참조하세요. CVDS로 전환하면 네트워킹 성능이 향상되지만, 테스트 환경에서 먼저 검증하는 것이 좋습니다.

이 설명은 2025년 9월 기준 최신 VMware 문서(예: NSX-T 3.1~4.x 릴리스 노트)를 기반으로 하며, 오해의 소지가 있는 의학 용어(CVDs: Cardiovascular Diseases)와 구분하여 IT 맥락으로 초점을 맞췄습니다. 더 구체적인 질문(예: 마이그레이션 명령어)이 있으시면 말씀해주세요!
