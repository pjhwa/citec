지난 8월에 최초 발생했는데, 현재도 pod 처리 지연으로 인해 워크로드에 가입자 위치 등록이 간헐적으로 안되고 있는 상황입니다.
현재 P5G에서는 NFS 4.2 버전을 사용중이며, 3.0으로 테스트 해보자고 했을때 어렵다고 답변이 왔었습니다.

○ 이슈 내용 : VM 에 생성된 pod 에 접속하여 'time ls' 를 수행하는 경우 출력 간헐적으로 지연 발생하고 있습니다.
* 현재 pod 처리 지연으로 인해 워크로드에 가입자 위치 등록이 간헐적으로 안되고 있다고 합니다.

"저희가 사용하는 project 에서 해당 worknode 에 udc 시스템을 구성했습니다.. 그 시스템은 5G 시스템이며, Core 장비 및 3'rd party 장비를 구성합니다. 그중에 현재 3'rd party 운용되는 pod 에서 가입자 인증 처리에 time out 이 되고 있습니다.
단말 위치 등록 시 가입자 인증 절차에서 time out 이 되어서 가입자 위치 등록이 안되고 있습니다.
현재 삼성전자 스마트 제조동에 시스템이 운용중에 있고 timeout으로 인해 위치등록 실패가 간헐적으로 발생하고 있습니다.
10/20 하루 동안의 통계 확인 시 177 중 4번 fail이 발생했으며, 모두 timeout에 의한 fail입니다."

사용자는 vn332-krw1 인 isilon HDD 를 사용중이고, NFS 버젼은 4.2 입니다.

현재 진행중인 상황은 아래와 같습니다.

1차 테스트 : VM 에 Filestorage를 직접 mount 해서 수행 -> 이 때는 모두 1초 이내에 응답이 옴.

2차 테스트 : mount 옵션을 NFS 3.0 , 4.2로 나누어 테스트 요청했으나, 해당부분 수정이 어렵다고 회신. 

                  별도로 Data Read/Write양을 1/10으로 감소한 Patch를 적용했으나, 여전히 간헐적으로 지연 발생 .

3차 테스트 : 이슈 pod ,  pod가 구동되어있는 host에서 실제 mount 경로에서 수행 
-> 둘 다 지연 발생 

4차 테스트 : 다른 VM에서 mount 했을 때 동일한 현상인지 확인 -> 동일한 현상이 발생

스토리지에 케이스 오픈하고 확인 중 

다만 1차 테스트와 3차테스트 결과가 상이한 점이 특이사항이고, 테스트 결과로 보아 k8s의 문제보다는 스토리지의 이슈가 아닐까 싶습니다.
